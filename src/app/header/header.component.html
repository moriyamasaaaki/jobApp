<header>
  <mat-toolbar class="header" color="primary">
    <div class="header__title">
      <button mat-icon-button aria-label="メニュー" (click)="sidenav.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
      <img src="assets/logo.png" alt="" routerLink="/" />
    </div>
    <nav class="header__nav">
      <div class="header__nav-item">
        <button
          mat-icon-button
          aria-label="求人検索する"
          matTooltip="求人検索する"
          *ngIf="searchIcon()"
          (click)="isSearch()"
        >
          <mat-icon>search</mat-icon>
        </button>
        <button
          mat-icon-button
          aria-label="求人作成する"
          matTooltip="求人作成する"
          (click)="createJob()"
          *ngIf="companyLoginStatus"
        >
          <mat-icon>add</mat-icon>
        </button>
        <ng-container *ngIf="user$ | async as user">
          <div class="header__user-icon">
            <button
              mat-icon-button
              aria-label="ユーザー画像"
              [matMenuTriggerFor]="menu"
            >
              <img [src]="user.photoURL" alt="" />
            </button>
          </div>
        </ng-container>
        <mat-menu #menu="matMenu">
          <button
            mat-menu-item
            aria-label="ログアウト"
            *ngIf="user$ | async"
            (click)="logout()"
          >
            <mat-icon>input</mat-icon>
            <span>ログアウト</span>
          </button>
          <button
            mat-menu-item
            aria-label="お気に入り一覧"
            routerLink="/user/keep"
            *ngIf="userLoginStatus"
          >
            <mat-icon>star</mat-icon>
            <span>お気に入り一覧</span>
          </button>
          <ng-container *ngIf="userLoginStatus">
            <button
              mat-menu-item
              aria-label="プロフィール"
              routerLink="/user/mypage"
            >
              <mat-icon>person</mat-icon>
              <span>プロフィール</span>
            </button>
          </ng-container>
          <ng-container *ngIf="companyLoginStatus">
            <button
              mat-menu-item
              aria-label="プロフィール"
              routerLink="/company/profile"
            >
              <mat-icon>person</mat-icon>
              <span>プロフィール</span>
            </button>
          </ng-container>
          <ng-container *ngIf="companyLoginStatus">
            <button
              mat-menu-item
              aria-label="自社求人一覧"
              routerLink="/company/job/list"
            >
              <mat-icon>event_note</mat-icon>
              <span>自社求人一覧</span>
            </button>
          </ng-container>
          <button mat-menu-item aria-label="プラン" routerLink="/plan">
            <mat-icon>payment</mat-icon>
            <span>プラン</span>
          </button>
        </mat-menu>
      </div>
      <ng-container *ngIf="!(user$ | async) && searchNone()">
        <div class="header-auth">
          <button
            (click)="authDialog()"
            mat-raised-button
            aria-label="ログイン"
            color="accent"
          >
            <span>ログイン</span>
          </button>
        </div>
      </ng-container>
    </nav>
  </mat-toolbar>
</header>
<div class="headeer-bottom">
  <ng-container *ngIf="display">
    <div class="header-search" [class.display]="display">
      <ais-instantsearch [config]="config">
        <ais-configure [searchParameters]="inputParams"></ais-configure>
        <app-search-input
          (querySuggestionSelected)="search($event)"
        ></app-search-input>
      </ais-instantsearch>
    </div>
    <div [class.displays]="display" (click)="notSearch()"></div>
  </ng-container>
</div>
