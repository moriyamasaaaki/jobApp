<div class="search">
  <form
    (ngSubmit)="querySuggestionSelected.emit(inputControl.value)"
    class="search__box"
  >
    <p>代行求人を探そう！!</p>
    <div class="search__input">
      <input
        matInput
        [matAutocomplete]="auto"
        [formControl]="inputControl"
        placeholder="求人を検索"
      />
      <div class="search__btn">
        <button
          mat-flat-button
          color="warn"
          aria-label="Example icon-button with a heart icon"
        >
          検索する
          <mat-icon>search</mat-icon>
        </button>
      </div>
    </div>
    <mat-autocomplete
      (optionSelected)="querySuggestionSelected.emit($event.option.value)"
      #auto="matAutocomplete"
      style="margin-top: 30px; max-height: 600px"
    >
      <div *ngFor="let index of state.indices || []">
        <mat-option
          *ngFor="let option of index.hits"
          [value]="option.workPlace"
          (click)="querySuggestionSelected.emit(option.workPlace)"
        >
          {{ option.workPlace }}
        </mat-option>
      </div>
    </mat-autocomplete>
  </form>
</div>
