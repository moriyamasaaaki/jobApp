<section class="detail">
  <div *ngIf="article$ | async as article; else default">
    <div class="detail__title">
      <div class="detail__title-content">
        <h1>{{ article.title }}</h1>
        <div>
          <button
            mat-mini-fab
            class="detail__delete-btn"
            color="warn"
            (click)="openDeleteDialog()"
          >
            <mat-icon>clear</mat-icon>
          </button>
        </div>
      </div>
      <ul class="detail__taglist">
        <li>
          <a href="">{{ article.label }}</a>
        </li>
      </ul>
      <span>{{ article.companyName }}</span>
      <p>公開日： {{ article.createdAt.toDate() | date: 'yyy年MM月dd日' }}</p>
    </div>
    <div class="detail__recruit">
      <dl>
        <dt>概要</dt>
        <dd>{{ article.companyContent }}</dd>

        <dt>職種</dt>
        <dd>{{ article.occupation }}</dd>

        <dt>給与</dt>
        <dd>{{ article.salary }}円</dd>

        <dt>福利厚生</dt>
        <dd>{{ article.welfare }}</dd>

        <dt>勤務時間・日数・休日</dt>
        <dd>{{ article.workTime }}</dd>

        <dt>勤務地</dt>
        <dd>
          {{ article.workPlace }}
          <br />
          <iframe
            [src]="
              'https://maps.google.co.jp/maps?output=embed&q=' +
                article.workPlace | safe: 'resourceUrl'
            "
          ></iframe>
        </dd>
      </dl>
      <div class="job-img">
        <img
          [src]="imageURL"
          *ngFor="let imageURL of article.jobImageUrls"
          alt=""
        />
      </div>
    </div>
  </div>
  <div class="detail__btn">
    <button mat-stroked-button color="primary" class="detail__btn-add">
      お気に入り
    </button>
    <a href="dammy@tokyobite.com">
      <button mat-raised-button color="primary" class="detail__btn-add">
        応募する
      </button>
    </a>
  </div>
  <ng-template #default>
    <p class="detail__default-text">
      求人はありません。
    </p>
  </ng-template>
  <app-review></app-review>
</section>
