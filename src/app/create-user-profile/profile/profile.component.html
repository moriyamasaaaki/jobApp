<h1 class="hdg">プロフィール設定</h1>
<mat-card class="profile-form">
  <form [formGroup]="form" (ngSubmit)="submit()" class="profile">
    <div>
      <input type="file" aria-label="画像選択" (change)="setAvatar($event)" />
    </div>
    <div>
      <mat-form-field
        class="profile-form__field"
        appearance="outline"
        color="accent"
      >
        <mat-label>氏名</mat-label>
        <input
          matInput
          placeholder="名前"
          aria-label="名前"
          name="name"
          formControlName="name"
          autocomplete="name"
          required
        />
        <mat-error *ngIf="nameControl.hasError('required')"
          >必須入力です</mat-error
        >
      </mat-form-field>
    </div>

    <div>
      <mat-form-field
        class="profile-form__field"
        appearance="outline"
        color="accent"
      >
        <input
          matInput
          placeholder="住所"
          aria-label="住所"
          name="address"
          formControlName="address"
          autocomplete="street-address"
          required
        />
        <mat-error *ngIf="addressControl.hasError('required')"
          >必須入力です</mat-error
        >
      </mat-form-field>
    </div>
    <div formGroupName="bday">
      <mat-form-field
        class="profile-form__field"
        appearance="outline"
        color="accent"
      >
        <mat-select placeholder="年" formControlName="year" required>
          <mat-option
            [value]="bottom"
            required
            *ngFor="let year of years; let i = index"
            >{{ i + bottom }}年</mat-option
          >
        </mat-select>
        <mat-error *ngIf="yearControl.hasError('required')"
          >必須入力です</mat-error
        >
      </mat-form-field>

      <mat-form-field
        class="profile-form__field"
        appearance="outline"
        color="accent"
      >
        <mat-select placeholder="月" formControlName="month" required>
          <mat-option
            [value]="i + 1"
            *ngFor="let month of months; let i = index"
            >{{ i + 1 }}月</mat-option
          >
        </mat-select>
        <mat-error *ngIf="monthControl.hasError('required')"
          >必須入力です</mat-error
        >
      </mat-form-field>

      <mat-form-field
        class="profile-form__field"
        appearance="outline"
        color="accent"
      >
        <mat-select placeholder="日" formControlName="day" required>
          <mat-option [value]="i + 1" *ngFor="let day of days; let i = index"
            >{{ i + 1 }}日</mat-option
          >
        </mat-select>
        <mat-error *ngIf="dayControl.hasError('required')"
          >必須入力です</mat-error
        >
      </mat-form-field>
    </div>

    <div class="profile-form__field">
      <mat-label>性別：</mat-label>
      <mat-radio-group formControlName="gender" required>
        <mat-radio-button value="男性">男性</mat-radio-button>
        <mat-radio-button value="女性">女性</mat-radio-button>
      </mat-radio-group>
    </div>

    <div>
      <mat-form-field
        class="profile-form__field"
        appearance="outline"
        color="accent"
      >
        <input
          matInput
          placeholder="Email"
          aria-label="Email"
          formControlName="email"
          required
          autocomplete="email"
        />
        <mat-error *ngIf="emailControl.hasError('required')"
          >必須入力です</mat-error
        >
        <mat-error *ngIf="emailControl.hasError('email')"
          >メールアドレス形式ではありません。</mat-error
        >
      </mat-form-field>
    </div>

    <div>
      <mat-form-field
        class="profile-form__field"
        appearance="outline"
        color="accent"
      >
        <input
          type="tel"
          matInput
          placeholder="電話番号"
          aria-label="電話番号"
          formControlName="tel"
          required
          autocomplete="tel"
        />
        <mat-error *ngIf="telControl.hasError('required')"
          >必須入力です</mat-error
        >
        <mat-error *ngIf="telControl.hasError('pattern')"
          >数字でハイフンなしでお願いします</mat-error
        >
      </mat-form-field>
    </div>

    <div>
      <mat-form-field
        class="profile-form__field"
        appearance="outline"
        color="accent"
      >
        <textarea
          matInput
          placeholder="自己紹介"
          aria-label="自己紹介"
          formControlName="introduce"
        ></textarea>
      </mat-form-field>
    </div>

    <div>
      <button
        class="profile-form__btn"
        [disabled]="form.invalid || form.pristine"
        mat-raised-button
        aria-label="プロフィール登録"
        color="primary"
      >
        プロフィール登録
      </button>
    </div>
  </form>
</mat-card>
